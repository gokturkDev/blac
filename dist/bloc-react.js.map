{"version":3,"file":"bloc-react.js","sources":["../src/lib/constants.js","../src/lib/createId.js","../src/lib/StreamAbstraction.js","../src/lib/BlocBase.js","../src/lib/Bloc.js","../src/lib/Cubit.js","../src/lib/BlocObserver.js","../src/lib/BlocConsumer.js","../src/lib/react/BlocReact.js"],"sourcesContent":["export var LOCAL_STORAGE_PREFIX = \"data.\";\nexport var cubitDefaultOptions = {\n    persistKey: \"\",\n    persistData: true,\n};\n","var createId = function () {\n    return '_' + Math.random().toString(36).substr(2, 9);\n};\nexport default createId;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { cubitDefaultOptions, LOCAL_STORAGE_PREFIX } from \"./constants\";\nimport createId from \"./createId\";\nvar BehaviorSubject = /** @class */ (function () {\n    function BehaviorSubject(initialValue) {\n        this.isClosed = false;\n        this.observers = [];\n        this.value = initialValue;\n    }\n    BehaviorSubject.prototype.getValue = function () {\n        return this.value;\n    };\n    BehaviorSubject.prototype.subscribe = function (observer) {\n        var _this = this;\n        var id = createId();\n        this.observers.push({ observer: observer, id: id });\n        this.triggerObservers();\n        return {\n            unsubscribe: function () { return _this.removeObserver(id); }\n        };\n    };\n    BehaviorSubject.prototype.complete = function () {\n        this.observers = [];\n        this.isClosed = true;\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        this.value = value;\n        this.triggerObservers();\n    };\n    BehaviorSubject.prototype.triggerObservers = function () {\n        var _this = this;\n        this.observers.forEach(function (_a) {\n            var observer = _a.observer;\n            observer.next(_this.value);\n        });\n    };\n    BehaviorSubject.prototype.removeObserver = function (removeId) {\n        this.observers = this.observers.filter(function (_a) {\n            var id = _a.id;\n            return id !== removeId;\n        });\n    };\n    return BehaviorSubject;\n}());\nexport { BehaviorSubject };\nvar StreamAbstraction = /** @class */ (function () {\n    function StreamAbstraction(initialValue, blocOptions) {\n        var _this = this;\n        if (blocOptions === void 0) { blocOptions = {}; }\n        this.isClosed = false;\n        this.removeListeners = [];\n        this.removeRemoveListener = function (index) {\n            _this.removeListeners.splice(index, 1);\n        };\n        this.addRemoveListener = function (method) {\n            var index = _this.removeListeners.length;\n            _this.removeListeners.push(method);\n            return function () { return _this.removeRemoveListener(index); };\n        };\n        this.subscribe = function (observer) { return _this._subject.subscribe({\n            next: observer.next,\n        }); };\n        this.complete = function () {\n            _this.isClosed = true;\n            _this._subject.complete();\n        };\n        this.clearCache = function () {\n            var key = _this._options.persistKey;\n            if (key) {\n                localStorage.removeItem(\"\".concat(LOCAL_STORAGE_PREFIX).concat(key));\n            }\n        };\n        this.next = function (value) {\n            _this._subject.next(value);\n            _this.updateCache();\n        };\n        this.getCachedValue = function () {\n            var cachedValue = localStorage.getItem(\"\".concat(LOCAL_STORAGE_PREFIX).concat(_this._options.persistKey));\n            if (cachedValue) {\n                try {\n                    return _this.jsonToState(cachedValue);\n                }\n                catch (e) {\n                    var error = new Error(\"Failed to parse JSON in localstorage for the key: \\\"\".concat(LOCAL_STORAGE_PREFIX).concat(_this._options.persistKey, \"\\\"\"));\n                    console.error(error);\n                    return error;\n                }\n            }\n            return new Error(\"Key not found\");\n        };\n        this.updateCache = function () {\n            var _a = _this._options, persistData = _a.persistData, persistKey = _a.persistKey;\n            if (persistData && persistKey) {\n                localStorage.setItem(\"\".concat(LOCAL_STORAGE_PREFIX).concat(persistKey), _this.stateToJson(_this.state));\n            }\n            else {\n                _this.clearCache();\n            }\n        };\n        var value = initialValue;\n        var options = __assign(__assign({}, cubitDefaultOptions), blocOptions);\n        this._options = options;\n        if (options.persistKey && options.persistData) {\n            var cachedValue = this.getCachedValue();\n            if (!(cachedValue instanceof Error)) {\n                value = cachedValue;\n            }\n        }\n        this._subject = new BehaviorSubject(value);\n    }\n    Object.defineProperty(StreamAbstraction.prototype, \"state\", {\n        get: function () {\n            return this._subject.getValue();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StreamAbstraction.prototype.jsonToState = function (state) {\n        return JSON.parse(state).state;\n    };\n    StreamAbstraction.prototype.stateToJson = function (state) {\n        return JSON.stringify({ state: state });\n    };\n    return StreamAbstraction;\n}());\nexport default StreamAbstraction;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport StreamAbstraction from \"./StreamAbstraction\";\nimport createId from \"./createId\";\nvar BlocBase = /** @class */ (function (_super) {\n    __extends(BlocBase, _super);\n    function BlocBase(initialValue, blocOptions) {\n        if (blocOptions === void 0) { blocOptions = {}; }\n        var _this = _super.call(this, initialValue, blocOptions) || this;\n        _this.id = createId();\n        _this.createdAt = new Date();\n        _this.meta = {\n            scope: 'unknown'\n        };\n        _this.changeListeners = [];\n        _this.registerListeners = [];\n        _this.valueChangeListeners = [];\n        _this.consumer = null;\n        // listeners\n        _this.removeChangeListener = function (index) {\n            _this.changeListeners.splice(index, 1);\n        };\n        _this.addChangeListener = function (method) {\n            var index = _this.changeListeners.length;\n            _this.changeListeners.push(method);\n            return function () { return _this.removeChangeListener(index); };\n        };\n        _this.removeValueChangeListener = function (index) {\n            _this.valueChangeListeners.splice(index, 1);\n        };\n        _this.addValueChangeListener = function (method) {\n            var index = _this.valueChangeListeners.length;\n            _this.valueChangeListeners.push(method);\n            return function () { return _this.removeValueChangeListener(index); };\n        };\n        _this.removeRegisterListener = function (index) {\n            _this.registerListeners.splice(index, 1);\n        };\n        _this.addRegisterListener = function (method) {\n            var index = _this.registerListeners.length;\n            _this.registerListeners.push(method);\n            return function () { return _this.removeRegisterListener(index); };\n        };\n        _this.notifyChange = function (state) {\n            var _a;\n            (_a = _this.consumer) === null || _a === void 0 ? void 0 : _a.notifyChange(_this, state);\n            _this.changeListeners.forEach(function (fn) { return fn({\n                currentState: _this.state,\n                nextState: state,\n            }, _this); });\n        };\n        _this.notifyValueChange = function () {\n            var _a;\n            (_a = _this.consumer) === null || _a === void 0 ? void 0 : _a.notifyValueChange(_this);\n            _this.valueChangeListeners.forEach(function (fn) { return fn(_this.state, _this); });\n        };\n        return _this;\n    }\n    return BlocBase;\n}(StreamAbstraction));\nexport default BlocBase;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport BlocBase from \"./BlocBase\";\nvar Bloc = /** @class */ (function (_super) {\n    __extends(Bloc, _super);\n    function Bloc(initialState, options) {\n        var _this = _super.call(this, initialState, options) || this;\n        _this.onTransition = null;\n        /**\n         * @deprecated The method is deprecated. Use `on` to add your event handlers instead.\n         */\n        _this.mapEventToState = null;\n        _this.eventHandlers = [];\n        _this.add = function (event) {\n            for (var _i = 0, _a = _this.eventHandlers; _i < _a.length; _i++) {\n                var _b = _a[_i], eventName = _b[0], handler = _b[1];\n                if (eventName === event) {\n                    handler(event, _this.emit(event));\n                    return;\n                }\n            }\n            console.warn(\"Event is not handled in Bloc:\", { event: event, bloc: _this });\n        };\n        _this.emit = function (event) { return function (newState) {\n            _this.notifyChange(newState);\n            _this.notifyTransition(newState, event);\n            _this.next(newState);\n            _this.notifyValueChange();\n        }; };\n        /**\n         * Add a listener to the Bloc for when a new event is added. There can only be one handler for each event.\n         * @param event The event that was added to the Bloc\n         * @param handler A method that receives the event and a `emit` function that can be used to update the state\n         */\n        _this.on = function (event, handler) {\n            _this.eventHandlers.push([event, handler]);\n        };\n        _this.notifyTransition = function (state, event) {\n            var _a, _b;\n            (_a = _this.consumer) === null || _a === void 0 ? void 0 : _a.notifyTransition(_this, state, event);\n            (_b = _this.onTransition) === null || _b === void 0 ? void 0 : _b.call(_this, {\n                currentState: _this.state,\n                event: event,\n                nextState: state,\n            });\n        };\n        return _this;\n    }\n    return Bloc;\n}(BlocBase));\nexport default Bloc;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport BlocBase from \"./BlocBase\";\nvar Cubit = /** @class */ (function (_super) {\n    __extends(Cubit, _super);\n    function Cubit() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.emit = function (value) {\n            _this.notifyChange(value);\n            _this.next(value);\n            _this.notifyValueChange();\n        };\n        return _this;\n    }\n    return Cubit;\n}(BlocBase));\nexport default Cubit;\n","var BlocObserver = /** @class */ (function () {\n    function BlocObserver(methods) {\n        var _this = this;\n        if (methods === void 0) { methods = {}; }\n        // trigger events\n        this.addChange = function (bloc, state) {\n            _this.onChange(bloc, _this.createChangeEvent(bloc, state));\n        };\n        this.addTransition = function (bloc, state, event) {\n            _this.onTransition(bloc, _this.createTransitionEvent(bloc, state, event));\n        };\n        this.addBlocAdded = function (bloc) {\n            _this.onBlocAdded(bloc);\n        };\n        this.addBlocRemoved = function (bloc) {\n            _this.onBlocRemoved(bloc);\n        };\n        // consume\n        this.defaultAction = function () { };\n        this.onBlocAdded = this.defaultAction;\n        this.onBlocRemoved = this.defaultAction;\n        this.onChange = methods.onChange ? methods.onChange : this.defaultAction;\n        this.onTransition = methods.onTransition ? methods.onTransition : this.defaultAction;\n    }\n    BlocObserver.prototype.createTransitionEvent = function (bloc, state, event) {\n        return {\n            currentState: bloc.state,\n            event: event,\n            nextState: state,\n        };\n    };\n    BlocObserver.prototype.createChangeEvent = function (bloc, state) {\n        return {\n            currentState: bloc.state,\n            nextState: state,\n        };\n    };\n    return BlocObserver;\n}());\nexport default BlocObserver;\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport BlocObserver from \"./BlocObserver\";\nvar BlocConsumer = /** @class */ (function () {\n    function BlocConsumer(blocs, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        this.mocksEnabled = false;\n        this.providerList = [];\n        this.blocChangeObservers = [];\n        this.blocValueChangeObservers = [];\n        this.mockBlocs = [];\n        this.blocListGlobal = blocs;\n        this.observer = options.observer || new BlocObserver();\n        var _loop_1 = function (b) {\n            b.consumer = this_1;\n            b.registerListeners.forEach(function (fn) { return fn(_this, b); });\n            b.meta.scope = 'global';\n            this_1.observer.addBlocAdded(b);\n        };\n        var this_1 = this;\n        for (var _i = 0, blocs_1 = blocs; _i < blocs_1.length; _i++) {\n            var b = blocs_1[_i];\n            _loop_1(b);\n        }\n    }\n    BlocConsumer.prototype.notifyChange = function (bloc, state) {\n        if (bloc.isClosed) {\n            return;\n        }\n        this.observer.addChange(bloc, state);\n        for (var _i = 0, _a = this.blocChangeObservers; _i < _a.length; _i++) {\n            var _b = _a[_i], blocClass = _b[0], callback = _b[1], scope = _b[2];\n            var isGlobal = this.blocListGlobal.indexOf(bloc) !== -1;\n            var matchesScope = scope === \"all\" ||\n                (isGlobal && scope === \"global\") ||\n                (!isGlobal && scope === \"local\");\n            if (matchesScope && bloc instanceof blocClass) {\n                callback(bloc, {\n                    nextState: state,\n                    currentState: bloc.state\n                });\n            }\n        }\n    };\n    BlocConsumer.prototype.notifyValueChange = function (bloc) {\n        if (bloc.isClosed) {\n            return;\n        }\n        for (var _i = 0, _a = this.blocValueChangeObservers; _i < _a.length; _i++) {\n            var _b = _a[_i], blocClass = _b[0], callback = _b[1], scope = _b[2];\n            var isGlobal = this.blocListGlobal.indexOf(bloc) !== -1;\n            var matchesScope = scope === \"all\" ||\n                (isGlobal && scope === \"global\") ||\n                (!isGlobal && scope === \"local\");\n            if (matchesScope && bloc instanceof blocClass) {\n                callback(bloc);\n            }\n        }\n    };\n    BlocConsumer.prototype.notifyTransition = function (bloc, state, event) {\n        if (bloc.isClosed) {\n            return;\n        }\n        this.observer.addTransition(bloc, state, event);\n    };\n    BlocConsumer.prototype.addBlocChangeObserver = function (blocClass, callback, scope) {\n        if (scope === void 0) { scope = \"all\"; }\n        this.blocChangeObservers.push([blocClass, callback, scope]);\n    };\n    BlocConsumer.prototype.addBlocValueChangeObserver = function (blocClass, callback, scope) {\n        if (scope === void 0) { scope = \"all\"; }\n        this.blocValueChangeObservers.push([blocClass, callback, scope]);\n    };\n    BlocConsumer.prototype.addLocalBloc = function (item) {\n        var _this = this;\n        this.providerList.push(item);\n        item.bloc.consumer = this;\n        item.bloc.registerListeners.forEach(function (fn) { return fn(_this, item.bloc); });\n        item.bloc.meta.scope = 'local';\n        this.observer.addBlocAdded(item.bloc);\n    };\n    BlocConsumer.prototype.removeLocalBloc = function (id, bloc) {\n        var item = this.providerList.find(function (i) { return i.id === id && i.bloc === bloc; });\n        if (item) {\n            item.bloc.complete();\n            item.bloc.removeListeners.forEach(function (fn) { return fn(); });\n            this.observer.addBlocRemoved(item.bloc);\n            this.providerList = this.providerList.filter(function (i) { return i !== item; });\n        }\n    };\n    BlocConsumer.prototype.addBlocMock = function (bloc) {\n        if (this.mocksEnabled) {\n            this.mockBlocs = __spreadArray([bloc], this.mockBlocs, true);\n        }\n    };\n    BlocConsumer.prototype.resetMocks = function () {\n        this.mockBlocs = [];\n    };\n    BlocConsumer.prototype.getGlobalBloc = function (blocClass) {\n        if (this.mocksEnabled) {\n            var mockedBloc = this.mockBlocs.find(function (c) { return c instanceof blocClass; });\n            if (mockedBloc) {\n                return mockedBloc;\n            }\n        }\n        return this.blocListGlobal.find(function (c) { return c instanceof blocClass; });\n    };\n    BlocConsumer.prototype.getLocalBlocForProvider = function (id, blocClass) {\n        var _loop_2 = function (providerItem) {\n            if (providerItem.id === id) {\n                if (providerItem.bloc instanceof blocClass) {\n                    return { value: providerItem.bloc };\n                }\n                var parent_1 = providerItem.parent;\n                while (parent_1) {\n                    var parentItem = this_2.providerList.find(function (i) { return i.id === parent_1; });\n                    if ((parentItem === null || parentItem === void 0 ? void 0 : parentItem.bloc) instanceof blocClass) {\n                        return { value: parentItem.bloc };\n                    }\n                    parent_1 = parentItem === null || parentItem === void 0 ? void 0 : parentItem.parent;\n                }\n            }\n        };\n        var this_2 = this;\n        for (var _i = 0, _a = this.providerList; _i < _a.length; _i++) {\n            var providerItem = _a[_i];\n            var state_1 = _loop_2(providerItem);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n        return undefined;\n    };\n    BlocConsumer.prototype.getGlobalBlocInstance = function (global, blocClass) {\n        if (this.mocksEnabled) {\n            var mockedBloc = this.mockBlocs.find(function (c) { return c instanceof blocClass; });\n            if (mockedBloc) {\n                return mockedBloc;\n            }\n        }\n        return global.find(function (c) { return c instanceof blocClass; });\n    };\n    return BlocConsumer;\n}());\nexport { BlocConsumer };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useContext, useEffect, useMemo, useState } from \"react\";\nimport { BlocConsumer } from \"../BlocConsumer\";\nimport createId from \"../createId\";\nvar defaultBlocHookOptions = {\n    subscribe: true\n};\nvar BlocRuntimeError = /** @class */ (function () {\n    function BlocRuntimeError(message) {\n        this.error = new Error(message);\n    }\n    return BlocRuntimeError;\n}());\nvar NoValue = /** @class */ (function () {\n    function NoValue() {\n    }\n    return NoValue;\n}());\nvar BlocReact = /** @class */ (function (_super) {\n    __extends(BlocReact, _super);\n    function BlocReact(blocs, options) {\n        var _this = _super.call(this, blocs, options) || this;\n        _this.providerCount = 0;\n        _this._contextLocalProviderKey = React.createContext('none');\n        _this.useBloc = function (blocClass, options) {\n            if (options === void 0) { options = {}; }\n            var mergedOptions = __assign(__assign({}, defaultBlocHookOptions), options);\n            var blocInstance = useMemo(function () { return options.create ? options.create() : undefined; }, []);\n            if (!blocInstance) {\n                var localProviderKey_1 = useContext(_this._contextLocalProviderKey);\n                var localBlocInstance_1 = useMemo(function () { return _this.getLocalBlocForProvider(localProviderKey_1, blocClass); }, []);\n                blocInstance = useMemo(function () { return localBlocInstance_1 || _this.getGlobalBlocInstance(_this._blocsGlobal, blocClass); }, []);\n            }\n            var subscribe = mergedOptions.subscribe, _a = mergedOptions.shouldUpdate, shouldUpdate = _a === void 0 ? true : _a;\n            if (!blocInstance) {\n                var name_1 = blocClass.prototype.constructor.name;\n                var error = new BlocRuntimeError(\"\\\"\".concat(name_1, \"\\\" \\n      no bloc with this name was found in the global context.\\n      \\n      # Solutions:\\n      \\n      1. Wrap your code in a BlocProvider.\\n      \\n      2. Add \\\"\").concat(name_1, \"\\\" to the \\\"BlocReact\\\" constructor:\\n        const state = new BlocReact(\\n          [\\n            ...\\n            new \").concat(name_1, \"(),\\n          ]\\n        )\\n      \"));\n                console.error(error.error);\n                return [\n                    NoValue,\n                    {},\n                    {\n                        error: error,\n                        complete: true\n                    }\n                ];\n            }\n            var _b = useState(blocInstance.state), data = _b[0], setData = _b[1];\n            var updateData = useCallback(function (nextState) {\n                if (shouldUpdate === true || shouldUpdate({ nextState: nextState, currentState: data })) {\n                    setData(nextState);\n                }\n            }, []);\n            useEffect(function () {\n                if (subscribe) {\n                    var subscription_1 = blocInstance === null || blocInstance === void 0 ? void 0 : blocInstance.subscribe({\n                        next: updateData\n                    });\n                    return function () {\n                        subscription_1 === null || subscription_1 === void 0 ? void 0 : subscription_1.unsubscribe();\n                    };\n                }\n            }, []);\n            return [\n                data,\n                blocInstance\n            ];\n        };\n        _this.withBlocProvider = function (bloc) { return function (Component) {\n            var BlocProvider = _this.BlocProvider;\n            return /** @class */ (function (_super) {\n                __extends(WithBlocProvider, _super);\n                function WithBlocProvider() {\n                    return _super !== null && _super.apply(this, arguments) || this;\n                }\n                WithBlocProvider.prototype.render = function () {\n                    return (React.createElement(BlocProvider, { bloc: bloc },\n                        React.createElement(Component, __assign({}, this.props))));\n                };\n                return WithBlocProvider;\n            }(React.Component));\n        }; };\n        _this._blocsGlobal = blocs;\n        _this.BlocProvider = _this.BlocProvider.bind(_this);\n        _this.BlocBuilder = _this.BlocBuilder.bind(_this);\n        return _this;\n    }\n    // Components\n    BlocReact.prototype.BlocBuilder = function (props) {\n        var hook = this.useBloc(props.blocClass, {\n            shouldUpdate: props.shouldUpdate\n        });\n        return props.builder(hook);\n    };\n    ;\n    BlocReact.prototype.BlocProvider = function (props) {\n        var _this = this;\n        var id = useMemo(function () { return createId(); }, []);\n        var localProviderKey = useContext(this._contextLocalProviderKey);\n        var bloc = useMemo(function () {\n            var newBloc = typeof props.bloc === \"function\" ? props.bloc(id) : props.bloc;\n            if (newBloc) {\n                _this.addLocalBloc({\n                    bloc: newBloc,\n                    id: id,\n                    parent: localProviderKey\n                });\n            }\n            else {\n                console.error(\"BLoC is undefined\");\n            }\n            return newBloc;\n        }, []);\n        var context = useMemo(function () {\n            return React.createContext(bloc);\n        }, [bloc]);\n        useEffect(function () {\n            return function () {\n                _this.removeLocalBloc(id, bloc);\n            };\n        }, []);\n        return (React.createElement(this._contextLocalProviderKey.Provider, { value: id },\n            React.createElement(context.Provider, { value: bloc }, props.children)));\n    };\n    ;\n    return BlocReact;\n}(BlocConsumer));\nexport { BlocReact };\n"],"names":["__assign","this","__extends","React","useMemo","useContext","useState","useCallback","useEffect"],"mappings":";;;;;;;;;;AAAO,IAAI,oBAAoB,GAAG,OAAO,CAAC;AACnC,IAAI,mBAAmB,GAAG;AACjC,IAAI,UAAU,EAAE,EAAE;AAClB,IAAI,WAAW,EAAE,IAAI;AACrB,CAAC;;ACJD,IAAI,QAAQ,GAAG,YAAY;AAC3B,IAAI,OAAO,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACzD,CAAC;;ACFD,IAAIA,UAAQ,GAAG,CAACC,SAAI,IAAIA,SAAI,CAAC,QAAQ,KAAK,YAAY;AACtD,IAAID,UAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,CAAC,EAAE;AAC5C,QAAQ,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AAC7D,YAAY,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AAC7B,YAAY,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;AAC3E,gBAAgB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5B,SAAS;AACT,QAAQ,OAAO,CAAC,CAAC;AACjB,KAAK,CAAC;AACN,IAAI,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;AAC3C,CAAC,CAAC;AAGF,IAAI,eAAe,kBAAkB,YAAY;AACjD,IAAI,SAAS,eAAe,CAAC,YAAY,EAAE;AAC3C,QAAQ,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;AAC9B,QAAQ,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AAC5B,QAAQ,IAAI,CAAC,KAAK,GAAG,YAAY,CAAC;AAClC,KAAK;AACL,IAAI,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;AACrD,QAAQ,OAAO,IAAI,CAAC,KAAK,CAAC;AAC1B,KAAK,CAAC;AACN,IAAI,eAAe,CAAC,SAAS,CAAC,SAAS,GAAG,UAAU,QAAQ,EAAE;AAC9D,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;AACzB,QAAQ,IAAI,EAAE,GAAG,QAAQ,EAAE,CAAC;AAC5B,QAAQ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;AAC5D,QAAQ,IAAI,CAAC,gBAAgB,EAAE,CAAC;AAChC,QAAQ,OAAO;AACf,YAAY,WAAW,EAAE,YAAY,EAAE,OAAO,KAAK,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,EAAE;AACzE,SAAS,CAAC;AACV,KAAK,CAAC;AACN,IAAI,eAAe,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAY;AACrD,QAAQ,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AAC5B,QAAQ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;AAC7B,KAAK,CAAC;AACN,IAAI,eAAe,CAAC,SAAS,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE;AACtD,QAAQ,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;AAC3B,QAAQ,IAAI,CAAC,gBAAgB,EAAE,CAAC;AAChC,KAAK,CAAC;AACN,IAAI,eAAe,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;AAC7D,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;AACzB,QAAQ,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE;AAC7C,YAAY,IAAI,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC;AACvC,YAAY,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AACvC,SAAS,CAAC,CAAC;AACX,KAAK,CAAC;AACN,IAAI,eAAe,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,QAAQ,EAAE;AACnE,QAAQ,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE;AAC7D,YAAY,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;AAC3B,YAAY,OAAO,EAAE,KAAK,QAAQ,CAAC;AACnC,SAAS,CAAC,CAAC;AACX,KAAK,CAAC;AACN,IAAI,OAAO,eAAe,CAAC;AAC3B,CAAC,EAAE,CAAC,CAAC;AAEL,IAAI,iBAAiB,kBAAkB,YAAY;AACnD,IAAI,SAAS,iBAAiB,CAAC,YAAY,EAAE,WAAW,EAAE;AAC1D,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;AACzB,QAAQ,IAAI,WAAW,KAAK,KAAK,CAAC,EAAE,EAAE,WAAW,GAAG,EAAE,CAAC,EAAE;AACzD,QAAQ,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;AAC9B,QAAQ,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;AAClC,QAAQ,IAAI,CAAC,oBAAoB,GAAG,UAAU,KAAK,EAAE;AACrD,YAAY,KAAK,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;AACnD,SAAS,CAAC;AACV,QAAQ,IAAI,CAAC,iBAAiB,GAAG,UAAU,MAAM,EAAE;AACnD,YAAY,IAAI,KAAK,GAAG,KAAK,CAAC,eAAe,CAAC,MAAM,CAAC;AACrD,YAAY,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC/C,YAAY,OAAO,YAAY,EAAE,OAAO,KAAK,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;AAC7E,SAAS,CAAC;AACV,QAAQ,IAAI,CAAC,SAAS,GAAG,UAAU,QAAQ,EAAE,EAAE,OAAO,KAAK,CAAC,QAAQ,CAAC,SAAS,CAAC;AAC/E,YAAY,IAAI,EAAE,QAAQ,CAAC,IAAI;AAC/B,SAAS,CAAC,CAAC,EAAE,CAAC;AACd,QAAQ,IAAI,CAAC,QAAQ,GAAG,YAAY;AACpC,YAAY,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;AAClC,YAAY,KAAK,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;AACtC,SAAS,CAAC;AACV,QAAQ,IAAI,CAAC,UAAU,GAAG,YAAY;AACtC,YAAY,IAAI,GAAG,GAAG,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC;AAChD,YAAY,IAAI,GAAG,EAAE;AACrB,gBAAgB,YAAY,CAAC,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;AACrF,aAAa;AACb,SAAS,CAAC;AACV,QAAQ,IAAI,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE;AACrC,YAAY,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACvC,YAAY,KAAK,CAAC,WAAW,EAAE,CAAC;AAChC,SAAS,CAAC;AACV,QAAQ,IAAI,CAAC,cAAc,GAAG,YAAY;AAC1C,YAAY,IAAI,WAAW,GAAG,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;AACtH,YAAY,IAAI,WAAW,EAAE;AAC7B,gBAAgB,IAAI;AACpB,oBAAoB,OAAO,KAAK,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;AAC1D,iBAAiB;AACjB,gBAAgB,OAAO,CAAC,EAAE;AAC1B,oBAAoB,IAAI,KAAK,GAAG,IAAI,KAAK,CAAC,sDAAsD,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,CAAC;AACvK,oBAAoB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AACzC,oBAAoB,OAAO,KAAK,CAAC;AACjC,iBAAiB;AACjB,aAAa;AACb,YAAY,OAAO,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;AAC9C,SAAS,CAAC;AACV,QAAQ,IAAI,CAAC,WAAW,GAAG,YAAY;AACvC,YAAY,IAAI,EAAE,GAAG,KAAK,CAAC,QAAQ,EAAE,WAAW,GAAG,EAAE,CAAC,WAAW,EAAE,UAAU,GAAG,EAAE,CAAC,UAAU,CAAC;AAC9F,YAAY,IAAI,WAAW,IAAI,UAAU,EAAE;AAC3C,gBAAgB,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;AACzH,aAAa;AACb,iBAAiB;AACjB,gBAAgB,KAAK,CAAC,UAAU,EAAE,CAAC;AACnC,aAAa;AACb,SAAS,CAAC;AACV,QAAQ,IAAI,KAAK,GAAG,YAAY,CAAC;AACjC,QAAQ,IAAI,OAAO,GAAGA,UAAQ,CAACA,UAAQ,CAAC,EAAE,EAAE,mBAAmB,CAAC,EAAE,WAAW,CAAC,CAAC;AAC/E,QAAQ,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;AAChC,QAAQ,IAAI,OAAO,CAAC,UAAU,IAAI,OAAO,CAAC,WAAW,EAAE;AACvD,YAAY,IAAI,WAAW,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;AACpD,YAAY,IAAI,EAAE,WAAW,YAAY,KAAK,CAAC,EAAE;AACjD,gBAAgB,KAAK,GAAG,WAAW,CAAC;AACpC,aAAa;AACb,SAAS;AACT,QAAQ,IAAI,CAAC,QAAQ,GAAG,IAAI,eAAe,CAAC,KAAK,CAAC,CAAC;AACnD,KAAK;AACL,IAAI,MAAM,CAAC,cAAc,CAAC,iBAAiB,CAAC,SAAS,EAAE,OAAO,EAAE;AAChE,QAAQ,GAAG,EAAE,YAAY;AACzB,YAAY,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;AAC5C,SAAS;AACT,QAAQ,UAAU,EAAE,KAAK;AACzB,QAAQ,YAAY,EAAE,IAAI;AAC1B,KAAK,CAAC,CAAC;AACP,IAAI,iBAAiB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;AAC/D,QAAQ,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;AACvC,KAAK,CAAC;AACN,IAAI,iBAAiB,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;AAC/D,QAAQ,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;AAChD,KAAK,CAAC;AACN,IAAI,OAAO,iBAAiB,CAAC;AAC7B,CAAC,EAAE,CAAC;;ACtIJ,IAAIE,WAAS,GAAG,CAACD,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;AACzD,IAAI,IAAI,aAAa,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;AACxC,QAAQ,aAAa,GAAG,MAAM,CAAC,cAAc;AAC7C,aAAa,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;AACxF,YAAY,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AAC9G,QAAQ,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACnC,KAAK,CAAC;AACN,IAAI,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;AAC3B,QAAQ,IAAI,OAAO,CAAC,KAAK,UAAU,IAAI,CAAC,KAAK,IAAI;AACjD,YAAY,MAAM,IAAI,SAAS,CAAC,sBAAsB,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,+BAA+B,CAAC,CAAC;AACtG,QAAQ,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC5B,QAAQ,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;AAC/C,QAAQ,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;AAC7F,KAAK,CAAC;AACN,CAAC,GAAG,CAAC;AAGL,IAAI,QAAQ,kBAAkB,UAAU,MAAM,EAAE;AAChD,IAAIC,WAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;AAChC,IAAI,SAAS,QAAQ,CAAC,YAAY,EAAE,WAAW,EAAE;AACjD,QAAQ,IAAI,WAAW,KAAK,KAAK,CAAC,EAAE,EAAE,WAAW,GAAG,EAAE,CAAC,EAAE;AACzD,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,YAAY,EAAE,WAAW,CAAC,IAAI,IAAI,CAAC;AACzE,QAAQ,KAAK,CAAC,EAAE,GAAG,QAAQ,EAAE,CAAC;AAC9B,QAAQ,KAAK,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;AACrC,QAAQ,KAAK,CAAC,IAAI,GAAG;AACrB,YAAY,KAAK,EAAE,SAAS;AAC5B,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,eAAe,GAAG,EAAE,CAAC;AACnC,QAAQ,KAAK,CAAC,iBAAiB,GAAG,EAAE,CAAC;AACrC,QAAQ,KAAK,CAAC,oBAAoB,GAAG,EAAE,CAAC;AACxC,QAAQ,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC;AAC9B;AACA,QAAQ,KAAK,CAAC,oBAAoB,GAAG,UAAU,KAAK,EAAE;AACtD,YAAY,KAAK,CAAC,eAAe,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;AACnD,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,iBAAiB,GAAG,UAAU,MAAM,EAAE;AACpD,YAAY,IAAI,KAAK,GAAG,KAAK,CAAC,eAAe,CAAC,MAAM,CAAC;AACrD,YAAY,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC/C,YAAY,OAAO,YAAY,EAAE,OAAO,KAAK,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;AAC7E,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,yBAAyB,GAAG,UAAU,KAAK,EAAE;AAC3D,YAAY,KAAK,CAAC,oBAAoB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;AACxD,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,sBAAsB,GAAG,UAAU,MAAM,EAAE;AACzD,YAAY,IAAI,KAAK,GAAG,KAAK,CAAC,oBAAoB,CAAC,MAAM,CAAC;AAC1D,YAAY,KAAK,CAAC,oBAAoB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACpD,YAAY,OAAO,YAAY,EAAE,OAAO,KAAK,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;AAClF,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,sBAAsB,GAAG,UAAU,KAAK,EAAE;AACxD,YAAY,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;AACrD,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,mBAAmB,GAAG,UAAU,MAAM,EAAE;AACtD,YAAY,IAAI,KAAK,GAAG,KAAK,CAAC,iBAAiB,CAAC,MAAM,CAAC;AACvD,YAAY,KAAK,CAAC,iBAAiB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACjD,YAAY,OAAO,YAAY,EAAE,OAAO,KAAK,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;AAC/E,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;AAC9C,YAAY,IAAI,EAAE,CAAC;AACnB,YAAY,CAAC,EAAE,GAAG,KAAK,CAAC,QAAQ,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;AACrG,YAAY,KAAK,CAAC,eAAe,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,EAAE,OAAO,EAAE,CAAC;AACpE,gBAAgB,YAAY,EAAE,KAAK,CAAC,KAAK;AACzC,gBAAgB,SAAS,EAAE,KAAK;AAChC,aAAa,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AAC1B,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,iBAAiB,GAAG,YAAY;AAC9C,YAAY,IAAI,EAAE,CAAC;AACnB,YAAY,CAAC,EAAE,GAAG,KAAK,CAAC,QAAQ,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,iBAAiB,CAAC,KAAK,CAAC,CAAC;AACnG,YAAY,KAAK,CAAC,oBAAoB,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,EAAE,OAAO,EAAE,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;AACjG,SAAS,CAAC;AACV,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL,IAAI,OAAO,QAAQ,CAAC;AACpB,CAAC,CAAC,iBAAiB,CAAC,CAAC;;ACxErB,IAAIA,WAAS,GAAG,CAACD,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;AACzD,IAAI,IAAI,aAAa,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;AACxC,QAAQ,aAAa,GAAG,MAAM,CAAC,cAAc;AAC7C,aAAa,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;AACxF,YAAY,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AAC9G,QAAQ,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACnC,KAAK,CAAC;AACN,IAAI,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;AAC3B,QAAQ,IAAI,OAAO,CAAC,KAAK,UAAU,IAAI,CAAC,KAAK,IAAI;AACjD,YAAY,MAAM,IAAI,SAAS,CAAC,sBAAsB,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,+BAA+B,CAAC,CAAC;AACtG,QAAQ,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC5B,QAAQ,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;AAC/C,QAAQ,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;AAC7F,KAAK,CAAC;AACN,CAAC,GAAG,CAAC;AAEF,IAAC,IAAI,kBAAkB,UAAU,MAAM,EAAE;AAC5C,IAAIC,WAAS,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AAC5B,IAAI,SAAS,IAAI,CAAC,YAAY,EAAE,OAAO,EAAE;AACzC,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,YAAY,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;AACrE,QAAQ,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC;AAClC;AACA;AACA;AACA,QAAQ,KAAK,CAAC,eAAe,GAAG,IAAI,CAAC;AACrC,QAAQ,KAAK,CAAC,aAAa,GAAG,EAAE,CAAC;AACjC,QAAQ,KAAK,CAAC,GAAG,GAAG,UAAU,KAAK,EAAE;AACrC,YAAY,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,KAAK,CAAC,aAAa,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;AAC7E,gBAAgB,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;AACpE,gBAAgB,IAAI,SAAS,KAAK,KAAK,EAAE;AACzC,oBAAoB,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;AACtD,oBAAoB,OAAO;AAC3B,iBAAiB;AACjB,aAAa;AACb,YAAY,OAAO,CAAC,IAAI,CAAC,+BAA+B,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;AACzF,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE,EAAE,OAAO,UAAU,QAAQ,EAAE;AACnE,YAAY,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;AACzC,YAAY,KAAK,CAAC,gBAAgB,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;AACpD,YAAY,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACjC,YAAY,KAAK,CAAC,iBAAiB,EAAE,CAAC;AACtC,SAAS,CAAC,EAAE,CAAC;AACb;AACA;AACA;AACA;AACA;AACA,QAAQ,KAAK,CAAC,EAAE,GAAG,UAAU,KAAK,EAAE,OAAO,EAAE;AAC7C,YAAY,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC,CAAC;AACvD,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,gBAAgB,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE;AACzD,YAAY,IAAI,EAAE,EAAE,EAAE,CAAC;AACvB,YAAY,CAAC,EAAE,GAAG,KAAK,CAAC,QAAQ,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,gBAAgB,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;AAChH,YAAY,CAAC,EAAE,GAAG,KAAK,CAAC,YAAY,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE;AAC1F,gBAAgB,YAAY,EAAE,KAAK,CAAC,KAAK;AACzC,gBAAgB,KAAK,EAAE,KAAK;AAC5B,gBAAgB,SAAS,EAAE,KAAK;AAChC,aAAa,CAAC,CAAC;AACf,SAAS,CAAC;AACV,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL,IAAI,OAAO,IAAI,CAAC;AAChB,CAAC,CAAC,QAAQ,CAAC;;AC9DX,IAAIA,WAAS,GAAG,CAACD,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;AACzD,IAAI,IAAI,aAAa,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;AACxC,QAAQ,aAAa,GAAG,MAAM,CAAC,cAAc;AAC7C,aAAa,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;AACxF,YAAY,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AAC9G,QAAQ,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACnC,KAAK,CAAC;AACN,IAAI,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;AAC3B,QAAQ,IAAI,OAAO,CAAC,KAAK,UAAU,IAAI,CAAC,KAAK,IAAI;AACjD,YAAY,MAAM,IAAI,SAAS,CAAC,sBAAsB,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,+BAA+B,CAAC,CAAC;AACtG,QAAQ,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC5B,QAAQ,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;AAC/C,QAAQ,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;AAC7F,KAAK,CAAC;AACN,CAAC,GAAG,CAAC;AAEF,IAAC,KAAK,kBAAkB,UAAU,MAAM,EAAE;AAC7C,IAAIC,WAAS,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;AAC7B,IAAI,SAAS,KAAK,GAAG;AACrB,QAAQ,IAAI,KAAK,GAAG,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;AAC7E,QAAQ,KAAK,CAAC,IAAI,GAAG,UAAU,KAAK,EAAE;AACtC,YAAY,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;AACtC,YAAY,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC9B,YAAY,KAAK,CAAC,iBAAiB,EAAE,CAAC;AACtC,SAAS,CAAC;AACV,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL,IAAI,OAAO,KAAK,CAAC;AACjB,CAAC,CAAC,QAAQ,CAAC;;AC5BR,IAAC,YAAY,kBAAkB,YAAY;AAC9C,IAAI,SAAS,YAAY,CAAC,OAAO,EAAE;AACnC,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;AACzB,QAAQ,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;AACjD;AACA,QAAQ,IAAI,CAAC,SAAS,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE;AAChD,YAAY,KAAK,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC;AACvE,SAAS,CAAC;AACV,QAAQ,IAAI,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE;AAC3D,YAAY,KAAK,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,qBAAqB,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;AACtF,SAAS,CAAC;AACV,QAAQ,IAAI,CAAC,YAAY,GAAG,UAAU,IAAI,EAAE;AAC5C,YAAY,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AACpC,SAAS,CAAC;AACV,QAAQ,IAAI,CAAC,cAAc,GAAG,UAAU,IAAI,EAAE;AAC9C,YAAY,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AACtC,SAAS,CAAC;AACV;AACA,QAAQ,IAAI,CAAC,aAAa,GAAG,YAAY,GAAG,CAAC;AAC7C,QAAQ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,aAAa,CAAC;AAC9C,QAAQ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;AAChD,QAAQ,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC;AACjF,QAAQ,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC;AAC7F,KAAK;AACL,IAAI,YAAY,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE;AACjF,QAAQ,OAAO;AACf,YAAY,YAAY,EAAE,IAAI,CAAC,KAAK;AACpC,YAAY,KAAK,EAAE,KAAK;AACxB,YAAY,SAAS,EAAE,KAAK;AAC5B,SAAS,CAAC;AACV,KAAK,CAAC;AACN,IAAI,YAAY,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE;AACtE,QAAQ,OAAO;AACf,YAAY,YAAY,EAAE,IAAI,CAAC,KAAK;AACpC,YAAY,SAAS,EAAE,KAAK;AAC5B,SAAS,CAAC;AACV,KAAK,CAAC;AACN,IAAI,OAAO,YAAY,CAAC;AACxB,CAAC,EAAE;;ACtCH,IAAI,aAAa,GAAG,CAACD,SAAI,IAAIA,SAAI,CAAC,aAAa,KAAK,UAAU,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;AAC9E,IAAI,IAAI,IAAI,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AACzF,QAAQ,IAAI,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,CAAC,EAAE;AAChC,YAAY,IAAI,CAAC,EAAE,EAAE,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AACjE,YAAY,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AAC5B,SAAS;AACT,KAAK;AACL,IAAI,OAAO,EAAE,CAAC,MAAM,CAAC,EAAE,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAC7D,CAAC,CAAC;AAEF,IAAI,YAAY,kBAAkB,YAAY;AAC9C,IAAI,SAAS,YAAY,CAAC,KAAK,EAAE,OAAO,EAAE;AAC1C,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;AACzB,QAAQ,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;AACjD,QAAQ,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;AAClC,QAAQ,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;AAC/B,QAAQ,IAAI,CAAC,mBAAmB,GAAG,EAAE,CAAC;AACtC,QAAQ,IAAI,CAAC,wBAAwB,GAAG,EAAE,CAAC;AAC3C,QAAQ,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AAC5B,QAAQ,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AACpC,QAAQ,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,IAAI,IAAI,YAAY,EAAE,CAAC;AAC/D,QAAQ,IAAI,OAAO,GAAG,UAAU,CAAC,EAAE;AACnC,YAAY,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC;AAChC,YAAY,CAAC,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,EAAE,OAAO,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;AAChF,YAAY,CAAC,CAAC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC;AACpC,YAAY,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;AAC5C,SAAS,CAAC;AACV,QAAQ,IAAI,MAAM,GAAG,IAAI,CAAC;AAC1B,QAAQ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,OAAO,GAAG,KAAK,EAAE,EAAE,GAAG,OAAO,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;AACrE,YAAY,IAAI,CAAC,GAAG,OAAO,CAAC,EAAE,CAAC,CAAC;AAChC,YAAY,OAAO,CAAC,CAAC,CAAC,CAAC;AACvB,SAAS;AACT,KAAK;AACL,IAAI,YAAY,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE;AACjE,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC3B,YAAY,OAAO;AACnB,SAAS;AACT,QAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AAC7C,QAAQ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,mBAAmB,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;AAC9E,YAAY,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;AAChF,YAAY,IAAI,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;AACpE,YAAY,IAAI,YAAY,GAAG,KAAK,KAAK,KAAK;AAC9C,iBAAiB,QAAQ,IAAI,KAAK,KAAK,QAAQ,CAAC;AAChD,iBAAiB,CAAC,QAAQ,IAAI,KAAK,KAAK,OAAO,CAAC,CAAC;AACjD,YAAY,IAAI,YAAY,IAAI,IAAI,YAAY,SAAS,EAAE;AAC3D,gBAAgB,QAAQ,CAAC,IAAI,EAAE;AAC/B,oBAAoB,SAAS,EAAE,KAAK;AACpC,oBAAoB,YAAY,EAAE,IAAI,CAAC,KAAK;AAC5C,iBAAiB,CAAC,CAAC;AACnB,aAAa;AACb,SAAS;AACT,KAAK,CAAC;AACN,IAAI,YAAY,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,IAAI,EAAE;AAC/D,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC3B,YAAY,OAAO;AACnB,SAAS;AACT,QAAQ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,wBAAwB,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;AACnF,YAAY,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC,EAAE,SAAS,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,QAAQ,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;AAChF,YAAY,IAAI,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;AACpE,YAAY,IAAI,YAAY,GAAG,KAAK,KAAK,KAAK;AAC9C,iBAAiB,QAAQ,IAAI,KAAK,KAAK,QAAQ,CAAC;AAChD,iBAAiB,CAAC,QAAQ,IAAI,KAAK,KAAK,OAAO,CAAC,CAAC;AACjD,YAAY,IAAI,YAAY,IAAI,IAAI,YAAY,SAAS,EAAE;AAC3D,gBAAgB,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC/B,aAAa;AACb,SAAS;AACT,KAAK,CAAC;AACN,IAAI,YAAY,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE;AAC5E,QAAQ,IAAI,IAAI,CAAC,QAAQ,EAAE;AAC3B,YAAY,OAAO;AACnB,SAAS;AACT,QAAQ,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;AACxD,KAAK,CAAC;AACN,IAAI,YAAY,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE;AACzF,QAAQ,IAAI,KAAK,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,GAAG,KAAK,CAAC,EAAE;AAChD,QAAQ,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;AACpE,KAAK,CAAC;AACN,IAAI,YAAY,CAAC,SAAS,CAAC,0BAA0B,GAAG,UAAU,SAAS,EAAE,QAAQ,EAAE,KAAK,EAAE;AAC9F,QAAQ,IAAI,KAAK,KAAK,KAAK,CAAC,EAAE,EAAE,KAAK,GAAG,KAAK,CAAC,EAAE;AAChD,QAAQ,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC,CAAC;AACzE,KAAK,CAAC;AACN,IAAI,YAAY,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,IAAI,EAAE;AAC1D,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;AACzB,QAAQ,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACrC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;AAClC,QAAQ,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,EAAE,OAAO,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;AAC5F,QAAQ,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;AACvC,QAAQ,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC9C,KAAK,CAAC;AACN,IAAI,YAAY,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,EAAE,EAAE,IAAI,EAAE;AACjE,QAAQ,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC;AACnG,QAAQ,IAAI,IAAI,EAAE;AAClB,YAAY,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;AACjC,YAAY,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;AAC9E,YAAY,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACpD,YAAY,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,KAAK,IAAI,CAAC,EAAE,CAAC,CAAC;AAC9F,SAAS;AACT,KAAK,CAAC;AACN,IAAI,YAAY,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE;AACzD,QAAQ,IAAI,IAAI,CAAC,YAAY,EAAE;AAC/B,YAAY,IAAI,CAAC,SAAS,GAAG,aAAa,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;AACzE,SAAS;AACT,KAAK,CAAC;AACN,IAAI,YAAY,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;AACpD,QAAQ,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AAC5B,KAAK,CAAC;AACN,IAAI,YAAY,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,SAAS,EAAE;AAChE,QAAQ,IAAI,IAAI,CAAC,YAAY,EAAE;AAC/B,YAAY,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,YAAY,SAAS,CAAC,EAAE,CAAC,CAAC;AAClG,YAAY,IAAI,UAAU,EAAE;AAC5B,gBAAgB,OAAO,UAAU,CAAC;AAClC,aAAa;AACb,SAAS;AACT,QAAQ,OAAO,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,YAAY,SAAS,CAAC,EAAE,CAAC,CAAC;AACzF,KAAK,CAAC;AACN,IAAI,YAAY,CAAC,SAAS,CAAC,uBAAuB,GAAG,UAAU,EAAE,EAAE,SAAS,EAAE;AAC9E,QAAQ,IAAI,OAAO,GAAG,UAAU,YAAY,EAAE;AAC9C,YAAY,IAAI,YAAY,CAAC,EAAE,KAAK,EAAE,EAAE;AACxC,gBAAgB,IAAI,YAAY,CAAC,IAAI,YAAY,SAAS,EAAE;AAC5D,oBAAoB,OAAO,EAAE,KAAK,EAAE,YAAY,CAAC,IAAI,EAAE,CAAC;AACxD,iBAAiB;AACjB,gBAAgB,IAAI,QAAQ,GAAG,YAAY,CAAC,MAAM,CAAC;AACnD,gBAAgB,OAAO,QAAQ,EAAE;AACjC,oBAAoB,IAAI,UAAU,GAAG,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,EAAE,KAAK,QAAQ,CAAC,EAAE,CAAC,CAAC;AAC1G,oBAAoB,IAAI,CAAC,UAAU,KAAK,IAAI,IAAI,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,UAAU,CAAC,IAAI,aAAa,SAAS,EAAE;AACxH,wBAAwB,OAAO,EAAE,KAAK,EAAE,UAAU,CAAC,IAAI,EAAE,CAAC;AAC1D,qBAAqB;AACrB,oBAAoB,QAAQ,GAAG,UAAU,KAAK,IAAI,IAAI,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,UAAU,CAAC,MAAM,CAAC;AACzG,iBAAiB;AACjB,aAAa;AACb,SAAS,CAAC;AACV,QAAQ,IAAI,MAAM,GAAG,IAAI,CAAC;AAC1B,QAAQ,KAAK,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,IAAI,CAAC,YAAY,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE;AACvE,YAAY,IAAI,YAAY,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC;AACtC,YAAY,IAAI,OAAO,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AAChD,YAAY,IAAI,OAAO,OAAO,KAAK,QAAQ;AAC3C,gBAAgB,OAAO,OAAO,CAAC,KAAK,CAAC;AACrC,SAAS;AACT,QAAQ,OAAO,SAAS,CAAC;AACzB,KAAK,CAAC;AACN,IAAI,YAAY,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,MAAM,EAAE,SAAS,EAAE;AAChF,QAAQ,IAAI,IAAI,CAAC,YAAY,EAAE;AAC/B,YAAY,IAAI,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,YAAY,SAAS,CAAC,EAAE,CAAC,CAAC;AAClG,YAAY,IAAI,UAAU,EAAE;AAC5B,gBAAgB,OAAO,UAAU,CAAC;AAClC,aAAa;AACb,SAAS;AACT,QAAQ,OAAO,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,YAAY,SAAS,CAAC,EAAE,CAAC,CAAC;AAC5E,KAAK,CAAC;AACN,IAAI,OAAO,YAAY,CAAC;AACxB,CAAC,EAAE,CAAC;;ACtJJ,IAAI,SAAS,GAAG,CAACA,SAAI,IAAIA,SAAI,CAAC,SAAS,KAAK,CAAC,YAAY;AACzD,IAAI,IAAI,aAAa,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;AACxC,QAAQ,aAAa,GAAG,MAAM,CAAC,cAAc;AAC7C,aAAa,EAAE,SAAS,EAAE,EAAE,EAAE,YAAY,KAAK,IAAI,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,CAAC;AACxF,YAAY,UAAU,CAAC,EAAE,CAAC,EAAE,EAAE,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AAC9G,QAAQ,OAAO,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACnC,KAAK,CAAC;AACN,IAAI,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;AAC3B,QAAQ,IAAI,OAAO,CAAC,KAAK,UAAU,IAAI,CAAC,KAAK,IAAI;AACjD,YAAY,MAAM,IAAI,SAAS,CAAC,sBAAsB,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,+BAA+B,CAAC,CAAC;AACtG,QAAQ,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC5B,QAAQ,SAAS,EAAE,GAAG,EAAE,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE;AAC/C,QAAQ,CAAC,CAAC,SAAS,GAAG,CAAC,KAAK,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;AAC7F,KAAK,CAAC;AACN,CAAC,GAAG,CAAC;AACL,IAAI,QAAQ,GAAG,CAACA,SAAI,IAAIA,SAAI,CAAC,QAAQ,KAAK,YAAY;AACtD,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,CAAC,EAAE;AAC5C,QAAQ,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AAC7D,YAAY,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AAC7B,YAAY,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;AAC3E,gBAAgB,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5B,SAAS;AACT,QAAQ,OAAO,CAAC,CAAC;AACjB,KAAK,CAAC;AACN,IAAI,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;AAC3C,CAAC,CAAC;AAIF,IAAI,sBAAsB,GAAG;AAC7B,IAAI,SAAS,EAAE,IAAI;AACnB,CAAC,CAAC;AACF,IAAI,gBAAgB,kBAAkB,YAAY;AAClD,IAAI,SAAS,gBAAgB,CAAC,OAAO,EAAE;AACvC,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;AACxC,KAAK;AACL,IAAI,OAAO,gBAAgB,CAAC;AAC5B,CAAC,EAAE,CAAC,CAAC;AACL,IAAI,OAAO,kBAAkB,YAAY;AACzC,IAAI,SAAS,OAAO,GAAG;AACvB,KAAK;AACL,IAAI,OAAO,OAAO,CAAC;AACnB,CAAC,EAAE,CAAC,CAAC;AACF,IAAC,SAAS,kBAAkB,UAAU,MAAM,EAAE;AACjD,IAAI,SAAS,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;AACjC,IAAI,SAAS,SAAS,CAAC,KAAK,EAAE,OAAO,EAAE;AACvC,QAAQ,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,IAAI,IAAI,CAAC;AAC9D,QAAQ,KAAK,CAAC,aAAa,GAAG,CAAC,CAAC;AAChC,QAAQ,KAAK,CAAC,wBAAwB,GAAGE,yBAAK,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;AACrE,QAAQ,KAAK,CAAC,OAAO,GAAG,UAAU,SAAS,EAAE,OAAO,EAAE;AACtD,YAAY,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;AACrD,YAAY,IAAI,aAAa,GAAG,QAAQ,CAAC,QAAQ,CAAC,EAAE,EAAE,sBAAsB,CAAC,EAAE,OAAO,CAAC,CAAC;AACxF,YAAY,IAAI,YAAY,GAAGC,aAAO,CAAC,YAAY,EAAE,OAAO,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,GAAG,SAAS,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AAClH,YAAY,IAAI,CAAC,YAAY,EAAE;AAC/B,gBAAgB,IAAI,kBAAkB,GAAGC,gBAAU,CAAC,KAAK,CAAC,wBAAwB,CAAC,CAAC;AACpF,gBAAgB,IAAI,mBAAmB,GAAGD,aAAO,CAAC,YAAY,EAAE,OAAO,KAAK,CAAC,uBAAuB,CAAC,kBAAkB,EAAE,SAAS,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AAC5I,gBAAgB,YAAY,GAAGA,aAAO,CAAC,YAAY,EAAE,OAAO,mBAAmB,IAAI,KAAK,CAAC,qBAAqB,CAAC,KAAK,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AACtJ,aAAa;AACb,YAAY,IAAI,SAAS,GAAG,aAAa,CAAC,SAAS,EAAE,EAAE,GAAG,aAAa,CAAC,YAAY,EAAE,YAAY,GAAG,EAAE,KAAK,KAAK,CAAC,GAAG,IAAI,GAAG,EAAE,CAAC;AAC/H,YAAY,IAAI,CAAC,YAAY,EAAE;AAC/B,gBAAgB,IAAI,MAAM,GAAG,SAAS,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC;AAClE,gBAAgB,IAAI,KAAK,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,6KAA6K,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,4HAA4H,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,qCAAqC,CAAC,CAAC,CAAC;AACxb,gBAAgB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AAC3C,gBAAgB,OAAO;AACvB,oBAAoB,OAAO;AAC3B,oBAAoB,EAAE;AACtB,oBAAoB;AACpB,wBAAwB,KAAK,EAAE,KAAK;AACpC,wBAAwB,QAAQ,EAAE,IAAI;AACtC,qBAAqB;AACrB,iBAAiB,CAAC;AAClB,aAAa;AACb,YAAY,IAAI,EAAE,GAAGE,cAAQ,CAAC,YAAY,CAAC,KAAK,CAAC,EAAE,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,OAAO,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;AACjF,YAAY,IAAI,UAAU,GAAGC,iBAAW,CAAC,UAAU,SAAS,EAAE;AAC9D,gBAAgB,IAAI,YAAY,KAAK,IAAI,IAAI,YAAY,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC,EAAE;AACzG,oBAAoB,OAAO,CAAC,SAAS,CAAC,CAAC;AACvC,iBAAiB;AACjB,aAAa,EAAE,EAAE,CAAC,CAAC;AACnB,YAAYC,eAAS,CAAC,YAAY;AAClC,gBAAgB,IAAI,SAAS,EAAE;AAC/B,oBAAoB,IAAI,cAAc,GAAG,YAAY,KAAK,IAAI,IAAI,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,YAAY,CAAC,SAAS,CAAC;AAC5H,wBAAwB,IAAI,EAAE,UAAU;AACxC,qBAAqB,CAAC,CAAC;AACvB,oBAAoB,OAAO,YAAY;AACvC,wBAAwB,cAAc,KAAK,IAAI,IAAI,cAAc,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,cAAc,CAAC,WAAW,EAAE,CAAC;AACrH,qBAAqB,CAAC;AACtB,iBAAiB;AACjB,aAAa,EAAE,EAAE,CAAC,CAAC;AACnB,YAAY,OAAO;AACnB,gBAAgB,IAAI;AACpB,gBAAgB,YAAY;AAC5B,aAAa,CAAC;AACd,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,gBAAgB,GAAG,UAAU,IAAI,EAAE,EAAE,OAAO,UAAU,SAAS,EAAE;AAC/E,YAAY,IAAI,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;AAClD,YAAY,sBAAsB,UAAU,MAAM,EAAE;AACpD,gBAAgB,SAAS,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;AACpD,gBAAgB,SAAS,gBAAgB,GAAG;AAC5C,oBAAoB,OAAO,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;AACpF,iBAAiB;AACjB,gBAAgB,gBAAgB,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;AAChE,oBAAoB,QAAQL,yBAAK,CAAC,aAAa,CAAC,YAAY,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;AAC5E,wBAAwBA,yBAAK,CAAC,aAAa,CAAC,SAAS,EAAE,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;AACnF,iBAAiB,CAAC;AAClB,gBAAgB,OAAO,gBAAgB,CAAC;AACxC,aAAa,CAACA,yBAAK,CAAC,SAAS,CAAC,EAAE;AAChC,SAAS,CAAC,EAAE,CAAC;AACb,QAAQ,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC;AACnC,QAAQ,KAAK,CAAC,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC5D,QAAQ,KAAK,CAAC,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC1D,QAAQ,OAAO,KAAK,CAAC;AACrB,KAAK;AACL;AACA,IAAI,SAAS,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;AACvD,QAAQ,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE;AACjD,YAAY,YAAY,EAAE,KAAK,CAAC,YAAY;AAC5C,SAAS,CAAC,CAAC;AACX,QAAQ,OAAO,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACnC,KAAK,CAAC;AAEN,IAAI,SAAS,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;AACxD,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;AACzB,QAAQ,IAAI,EAAE,GAAGC,aAAO,CAAC,YAAY,EAAE,OAAO,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AACjE,QAAQ,IAAI,gBAAgB,GAAGC,gBAAU,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;AACzE,QAAQ,IAAI,IAAI,GAAGD,aAAO,CAAC,YAAY;AACvC,YAAY,IAAI,OAAO,GAAG,OAAO,KAAK,CAAC,IAAI,KAAK,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC;AACzF,YAAY,IAAI,OAAO,EAAE;AACzB,gBAAgB,KAAK,CAAC,YAAY,CAAC;AACnC,oBAAoB,IAAI,EAAE,OAAO;AACjC,oBAAoB,EAAE,EAAE,EAAE;AAC1B,oBAAoB,MAAM,EAAE,gBAAgB;AAC5C,iBAAiB,CAAC,CAAC;AACnB,aAAa;AACb,iBAAiB;AACjB,gBAAgB,OAAO,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC;AACnD,aAAa;AACb,YAAY,OAAO,OAAO,CAAC;AAC3B,SAAS,EAAE,EAAE,CAAC,CAAC;AACf,QAAQ,IAAI,OAAO,GAAGA,aAAO,CAAC,YAAY;AAC1C,YAAY,OAAOD,yBAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AAC7C,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;AACnB,QAAQK,eAAS,CAAC,YAAY;AAC9B,YAAY,OAAO,YAAY;AAC/B,gBAAgB,KAAK,CAAC,eAAe,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;AAChD,aAAa,CAAC;AACd,SAAS,EAAE,EAAE,CAAC,CAAC;AACf,QAAQ,QAAQL,yBAAK,CAAC,aAAa,CAAC,IAAI,CAAC,wBAAwB,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE;AACzF,YAAYA,yBAAK,CAAC,aAAa,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE;AACrF,KAAK,CAAC;AAEN,IAAI,OAAO,SAAS,CAAC;AACrB,CAAC,CAAC,YAAY,CAAC;;;;;;;"}